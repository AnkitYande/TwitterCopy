(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{38:function(e,t,a){e.exports=a(68)},43:function(e,t,a){},44:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),o=a.n(s),c=(a(43),a(3)),l=a(4),u=a(6),i=a(5),p=a(15),m=a(8),h=(a(44),a(16)),d=a(17),f=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidenav"},r.a.createElement(p.b,{to:"/"},r.a.createElement(h.a,{style:{cursor:"pointer",fontSize:"1.5rem",marginRight:10},icon:d.b,onClick:this.likeTweet}),"Home"),null==this.props.user?r.a.createElement(p.b,{to:"/login"},r.a.createElement(h.a,{style:{cursor:"pointer",fontSize:"1.5rem",marginRight:10},icon:d.c,onClick:this.likeTweet}),"Login"):r.a.createElement(p.b,{to:"/profile"},r.a.createElement(h.a,{style:{cursor:"pointer",fontSize:"1.5rem",marginRight:10},icon:d.f,onClick:this.likeTweet}),"Profile"),r.a.createElement(p.b,{to:"/Liked"},r.a.createElement(h.a,{style:{cursor:"pointer",fontSize:"1.5rem",marginRight:10},icon:d.a,onClick:this.likeTweet}),"Likes"),r.a.createElement("a",{onClick:function(){e.props.toggleOpen()}},r.a.createElement("button",{className:"btn",style:{margin:0}},"Tweet")))}}]),a}(n.Component),g=a(2),w=a.n(g),b=a(10),v=a(7),E=a.n(v),k=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",user:null,valid:!1},e.onChangeU=function(t){return e.setState({username:t.target.value})},e.onChangeP=function(t){return e.setState({password:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.verifyUser()},e.verifyUser=Object(b.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={username:e.state.username,password:e.state.password},console.log(a),t.next=4,E.a.post("http://localhost:5000/users/verify",a).then((function(t){"string"==typeof t.data?alert(t.data):(e.setState({user:t.data}),e.props.updateUser(e.state.username),e.setState({valid:!0}))}));case 4:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){return this.state.user?(this.setState({valid:!1}),r.a.createElement(m.a,{to:"/"})):r.a.createElement("div",{className:"App-Body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"Username",placeholder:"Username",value:this.state.username,onChange:this.onChangeU,className:"textfield"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"Password",placeholder:"Password",value:this.state.password,onChange:this.onChangeP,className:"textfield"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Login",className:"btn"})),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/SignUp"},"Sign Up"))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",valid:!1},e.onChangeU=function(t){return e.setState({username:t.target.value})},e.onChangeP=function(t){return e.setState({password:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.checkUser()},e.checkUser=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.username.length<3)){t.next=4;break}alert("Username too Short!"),t.next=10;break;case 4:if(!(e.state.password.length<5)){t.next=8;break}alert("Password too Short!"),t.next=10;break;case 8:return t.next=10,E.a.get("http://localhost:5000/users/get/"+e.state.username).then((function(t){null!=t.data?alert("Username Taken!"):e.addUser()})).catch((function(e){console.log(e)}));case 10:case"end":return t.stop()}}),t)}))),e.addUser=Object(b.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={username:e.state.username,password:e.state.password,role:"user"},t.next=3,E.a.post("http://localhost:5000/users/add",a).then((function(t){e.setState({user:t.data},e.verifyUser),console.log(e.state.user)})).catch((function(e){console.log(e)}));case 3:e.props.updateUser(e.state.username),setTimeout(5e3),e.setState({valid:!0});case 6:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){return this.state.valid?(this.setState({valid:!1}),r.a.createElement(m.a,{to:"/"})):r.a.createElement("div",{className:"App-Body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"Username",placeholder:"Username",value:this.state.username,onChange:this.onChangeU,className:"textfield"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"Password",placeholder:"Password",value:this.state.password,onChange:this.onChangeP,className:"textfield"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Sign Up",className:"btn"})),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/Login"},"Login"))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).likeTweet=Object(b.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.user){t.next=3;break}return alert("You must login to like tweets"),t.abrupt("return");case 3:if(e.props.liked){t.next=10;break}return console.log(e.props.user+" liked "+e.props.id),a={username:e.props.user,tweetID:e.props.id},t.next=8,E.a.put("http://localhost:5000/users/like",a);case 8:t.next=15;break;case 10:return console.log(e.props.user+" unliked "+e.props.id),n={username:e.props.user,tweetID:e.props.id},console.log(n),t.next=15,E.a.put("http://localhost:5000/users/unlike",n);case 15:e.update();case 16:case"end":return t.stop()}}),t)}))),e.deleteTweet=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.delete("http://localhost:5000/tweets/"+e.props.id);case 2:e.update();case 3:case"end":return t.stop()}}),t)}))),e.update=function(){e.props.updateTweets(),e.forceUpdate()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"tweet-cell"},r.a.createElement("div",{className:"tweet-cell-flex"},r.a.createElement("p",null,r.a.createElement("b",null,this.props.username)," ",this.props.date.substring(0,10)," "),this.props.username===this.props.user?r.a.createElement(h.a,{className:"like-btn",style:{cursor:"pointer",fontSize:"1rem",marginRight:10},icon:d.e,onClick:this.deleteTweet}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("p",null,this.props.message),this.props.liked?r.a.createElement(h.a,{className:"like-btn",style:{cursor:"pointer",fontSize:"1rem",marginRight:10,color:"rgb(224, 36, 94)"},icon:d.a,onClick:this.likeTweet}):r.a.createElement(h.a,{className:"like-btn",style:{cursor:"pointer",fontSize:"1rem",marginRight:10},icon:d.a,onClick:this.likeTweet}))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={likedTweets:[]},e.getTweets=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.user){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,E.a.get("http://localhost:5000/users/get/"+e.props.user).then((function(t){e.setState({likedTweets:t.data.likedTweets})}));case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)}))),e.getLiked=function(t){return!(!e.state.likedTweets||!e.state.likedTweets.includes(t))},e.updateTweets=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.updateUser(e.props.user),e.props.updateTweets(),console.log("updating tweets"),e.getTweets();case 4:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTweets()}},{key:"render",value:function(){var e=this;return this.props.tweets.slice(0).reverse().map((function(t){return t?r.a.createElement(O,{username:t.username,message:t.message,id:t._id,date:t.updatedAt,user:e.props.user,liked:e.getLiked(t._id),updateUser:e.props.updateUser,updateTweets:e.updateTweets}):r.a.createElement(r.a.Fragment,null)}))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tweet:""},e.onChange=function(t){return e.setState({tweet:t.target.value})},e.onSubmit=function(){var t=Object(b.a)(w.a.mark((function t(a){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),null!=e.props.user){t.next=5;break}alert("You Must Log In"),t.next=11;break;case 5:return console.log(e.state.tweet),n={username:e.props.user,message:e.state.tweet},t.next=9,E.a.post("http://localhost:5000/tweets/add",n).then((function(e){return console.log(e.data)}));case 9:e.setState({tweet:""}),e.props.updateTweets();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{id:"tweet-box",className:"tweet-box",onSubmit:this.onSubmit},r.a.createElement("textarea",{type:"textarea",name:"tweet",autoComplete:"off",placeholder:"What's Happening?",value:this.state.tweet,onChange:this.onChange,form:"tweet-box",className:"textArea"}),r.a.createElement("input",{type:"submit",value:"Tweet",className:"btn"}))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tweets:[]},e.getTweets=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Getting Tweets"),t.next=3,E.a.get("http://localhost:5000/tweets/").then((function(t){e.setState({tweets:t.data})})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTweets()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-Body"},r.a.createElement("div",{className:"Tweet-List"},r.a.createElement(T,{user:this.props.user,updateTweets:this.getTweets}),0===this.state.tweets.length?r.a.createElement("h1",null,"Loading Tweets..."):r.a.createElement(j,{tweets:this.state.tweets,user:this.props.user,updateTweets:this.getTweets,updateUser:this.props.updateUser})))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tweets:[],numLikes:0},e.getTweets=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("http://localhost:5000/tweets/get/"+e.props.user).then((function(t){e.setState({tweets:t.data})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e.getUser=Object(b.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("http://localhost:5000/users/get/"+e.props.user).then((function(t){e.setState({numLikes:t.data.likedTweets.length})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e.refresh=function(){e.getTweets(),e.getTweets()},e.logout=function(){console.log("logging out"),E.a.get("http://localhost:5000/users/logout"),e.props.updateUser(null)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTweets(),this.getUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-Body"},this.props.user?r.a.createElement("div",null,r.a.createElement("div",{className:"Tweet-List"},r.a.createElement("div",{className:"bio"},r.a.createElement("h1",null,"@",this.props.user),r.a.createElement("h4",{style:{opacity:"0.7"}}," Tweets: ",this.state.tweets.length," "),r.a.createElement("h4",{style:{opacity:"0.7"}}," Likes: ",this.state.numLikes," "),r.a.createElement("button",{className:"btn",style:{margin:0},onClick:this.logout},"Sign Out")),r.a.createElement(j,{tweets:this.state.tweets,user:this.props.user,updateTweets:this.getTweets,updateUser:this.props.updateUser}))):r.a.createElement("div",null,"Logged Out"))}}]),a}(n.Component),U=a(37),C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tweet_ID_List:[],tweets:[]},e.getTweetIDs=function(){E.a.get("http://localhost:5000/users/get/"+e.props.user).then((function(t){e.setState({tweet_ID_List:t.data.likedTweets},e.getTweets)})).catch((function(e){console.log(e)}))},e.getTweets=function(){e.state.tweet_ID_List.forEach((function(t){console.log("Searching For: "+t),E.a.get("http://localhost:5000/tweets/"+t).then((function(t){e.setState({tweets:[].concat(Object(U.a)(e.state.tweets),[t.data])})})).catch((function(e){console.log(e)}))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTweetIDs()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-Body"},this.props.user?r.a.createElement("div",{className:"Tweet-List"},r.a.createElement(j,{tweets:this.state.tweets,user:this.props.user,updateTweets:this.getTweetIDs,updateUser:this.props.updateUser})):r.a.createElement("div",null," You haven\u2019t liked any Tweets yet"))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={tweetsList:[],tweets:[]},e}return Object(l.a)(a,[{key:"render",value:function(){return 0===this.state.tweets.length?r.a.createElement("div",{className:"App-Body"}," You aren't Following anyone yet"):r.a.createElement("div",{className:"App-Body"},"Following Page")}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-Body"},"Search Page")}}]),a}(n.Component),A={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#15202b",padding:"20px",zIndex:1e3,borderRadius:20},D={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, .1)",zIndex:1e3};function P(e){var t=e.open,a=e.onClose,n=e.user;if(!t)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:D}),r.a.createElement("div",{style:A},r.a.createElement("div",{className:"close-btn"},r.a.createElement(h.a,{style:{color:"#1ea1f2"},icon:d.d,onClick:a})),r.a.createElement("div",{className:"Tweet-List"},r.a.createElement(T,{user:n,updateTweets:function(){a()}}))))}var I=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:null,open:!1},e.updateUser=function(t){e.setState({user:t}),console.log("Logged in as: "+t)},e.toggleOpen=function(){e.setState({open:!0})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("br",null),r.a.createElement("div",{className:"App-Body",style:{fontSize:"1.75em",fontWeight:"bold"}}," TwitterClone "),r.a.createElement(P,{open:this.state.open,onClose:function(){e.setState({open:!1})},user:this.state.user},"Popup"),r.a.createElement("div",{className:"container"},r.a.createElement(f,{toggleOpen:this.toggleOpen,user:this.state.user}),r.a.createElement(m.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(x,{user:e.state.user,updateUser:e.updateUser})}}),r.a.createElement(m.b,{path:"/profile",exact:!0,render:function(t){return r.a.createElement(S,{user:e.state.user,updateUser:e.updateUser})}}),r.a.createElement(m.b,{path:"/liked",exact:!0,render:function(t){return r.a.createElement(C,{user:e.state.user,updateUser:e.updateUser})}}),r.a.createElement(m.b,{path:"/following",exact:!0,render:function(t){return r.a.createElement(N,{user:e.state.user})}}),r.a.createElement(m.b,{path:"/search",exact:!0,render:function(t){return r.a.createElement(L,{user:e.state.user})}}),r.a.createElement(m.b,{path:"/login",render:function(t){return r.a.createElement(k,{updateUser:e.updateUser})}}),r.a.createElement(m.b,{path:"/SignUp",render:function(t){return r.a.createElement(y,{updateUser:e.updateUser})}}))))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.74e3f4c3.chunk.js.map